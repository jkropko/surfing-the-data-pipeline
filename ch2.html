
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2. Loading Data from Electronic Data Files &#8212; Surfing the Data Pipeline with Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ch2';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Loading, Converting, and Writing JSON Files" href="ch3.html" />
    <link rel="prev" title="1. Getting Yourself Unstuck" href="ch1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/surf.jpg" class="logo__image only-light" alt="Surfing the Data Pipeline with Python - Home"/>
    <img src="_static/surf.jpg" class="logo__image only-dark pst-js-only" alt="Surfing the Data Pipeline with Python - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Surfing the Data Pipeline with Python
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ch1.html">1. Getting Yourself Unstuck</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Data</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. Loading Data from Electronic Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch3.html">3. Loading, Converting, and Writing JSON Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch4.html">4. Acquiring Data from APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch5.html">5. Web Scraping Using <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ch6.html">6. Creating and Connecting to Databases</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Wrangle Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ch7.html">7. Database Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch8.html">8. Data Wrangling with <code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ch9.html">9. Reshaping and Merging Data and Working with Strings, Dates, and Times</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Explore and Communicate Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ch10.html">10. Exploratory Data Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch11.html">11. Static Data Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch12.html">12. Interactive Data Visualizations and Dashboards</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="docker.html">Virtual Environments and Containers</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/ch2.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Loading Data from Electronic Data Files</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-please-dont-bend-fold-spindle-or-mutilate-me">2.1. Introduction: Please don’t bend, fold, spindle or mutilate me</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changing-the-working-directory">2.2. Changing the Working Directory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#text-based-data-files">2.3. Text-Based Data Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#looking-at-the-dataframe-to-see-if-it-loaded-correctly">2.4. Looking at the DataFrame to See if it Loaded Correctly</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#viewing-the-data-as-a-spreadsheet">2.4.1. Viewing the Data as a Spreadsheet</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#displaying-the-data-type-of-each-column">2.4.2. Displaying the Data Type of Each Column</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#displaying-column-names">2.4.3. Displaying Column Names</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#descriptive-statistics">2.4.4. Descriptive Statistics</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-and-solving-problems-with-text-based-data-files">2.5. Identifying and Solving Problems with Text-Based Data Files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comments-prior-to-the-header">2.5.1. Comments Prior to the Header</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-with-numeric-missing-codes">2.5.2. Data with Numeric Missing Codes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comments-inside-the-data">2.5.3. Comments Inside the Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-without-column-names">2.5.4. Data Without Column Names</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#delimiters-other-than-commas">2.5.5. Delimiters Other Than Commas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fixed-width-files">2.5.6. Fixed-width Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-other-kinds-of-electronic-data-files">2.6. Loading Other Kinds of Electronic Data Files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-excel-files">2.6.1. Loading Excel Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-sas-stata-and-spss-files">2.6.2. Loading SAS, Stata, and SPSS Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-csv-and-ascii-files-to-disk">2.7. Saving CSV and ASCII Files to Disk</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="loading-data-from-electronic-data-files">
<h1><a class="toc-backref" href="#id1" role="doc-backlink"><span class="section-number">2. </span>Loading Data from Electronic Data Files</a><a class="headerlink" href="#loading-data-from-electronic-data-files" title="Link to this heading">#</a></h1>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#loading-data-from-electronic-data-files" id="id1">Loading Data from Electronic Data Files</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction-please-dont-bend-fold-spindle-or-mutilate-me" id="id2">Introduction: Please don’t bend, fold, spindle or mutilate me</a></p></li>
<li><p><a class="reference internal" href="#changing-the-working-directory" id="id3">Changing the Working Directory</a></p></li>
<li><p><a class="reference internal" href="#text-based-data-files" id="id4">Text-Based Data Files</a></p></li>
<li><p><a class="reference internal" href="#looking-at-the-dataframe-to-see-if-it-loaded-correctly" id="id5">Looking at the DataFrame to See if it Loaded Correctly</a></p>
<ul>
<li><p><a class="reference internal" href="#viewing-the-data-as-a-spreadsheet" id="id6">Viewing the Data as a Spreadsheet</a></p></li>
<li><p><a class="reference internal" href="#displaying-the-data-type-of-each-column" id="id7">Displaying the Data Type of Each Column</a></p></li>
<li><p><a class="reference internal" href="#displaying-column-names" id="id8">Displaying Column Names</a></p></li>
<li><p><a class="reference internal" href="#descriptive-statistics" id="id9">Descriptive Statistics</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#identifying-and-solving-problems-with-text-based-data-files" id="id10">Identifying and Solving Problems with Text-Based Data Files</a></p>
<ul>
<li><p><a class="reference internal" href="#comments-prior-to-the-header" id="id11">Comments Prior to the Header</a></p></li>
<li><p><a class="reference internal" href="#data-with-numeric-missing-codes" id="id12">Data with Numeric Missing Codes</a></p></li>
<li><p><a class="reference internal" href="#comments-inside-the-data" id="id13">Comments Inside the Data</a></p></li>
<li><p><a class="reference internal" href="#data-without-column-names" id="id14">Data Without Column Names</a></p></li>
<li><p><a class="reference internal" href="#delimiters-other-than-commas" id="id15">Delimiters Other Than Commas</a></p></li>
<li><p><a class="reference internal" href="#fixed-width-files" id="id16">Fixed-width Files</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#loading-other-kinds-of-electronic-data-files" id="id17">Loading Other Kinds of Electronic Data Files</a></p>
<ul>
<li><p><a class="reference internal" href="#loading-excel-files" id="id18">Loading Excel Files</a></p></li>
<li><p><a class="reference internal" href="#loading-sas-stata-and-spss-files" id="id19">Loading SAS, Stata, and SPSS Files</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#saving-csv-and-ascii-files-to-disk" id="id20">Saving CSV and ASCII Files to Disk</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduction-please-dont-bend-fold-spindle-or-mutilate-me">
<h2><a class="toc-backref" href="#id2" role="doc-backlink"><span class="section-number">2.1. </span>Introduction: Please don’t bend, fold, spindle or mutilate me</a><a class="headerlink" href="#introduction-please-dont-bend-fold-spindle-or-mutilate-me" title="Link to this heading">#</a></h2>
<p>“<a class="reference external" href="http://www.cs.mun.ca/~harold/Courses/Old/CS1400.W15/Diary/Lubar1992.pdf">’Do Not Fold, Spindle or Mutilate’: A Cultural  History of the Punch Card</a>” by Steven Lubar details the earliest method of data storage and transference. Punch cards were first used by the U.S. government to tabulate the 1890 census. Before World War 1, punch cards started being used by the military, the railroads, and insurance companies to store data. In the 1930s, punch cards were used by the New Deal agencies, and by the 1940s punch cards were widespread throughout American society.
<img src="https://github.com/jkropko/DS-6001/raw/master/localimages/punchcard1.png" width=600></p>
<p>Punchcards predated computers, which is to say that data storage and transference predates computers. These early uses of punchcards employed <a class="reference external" href="https://en.wikipedia.org/wiki/Tabulating_machine">data tabulation machines</a> capable of counting the number of times particular holes have been punched in a series of cards, fed into the machine one at a time. The tabulation machine used for counting the 1890 census was developed by a company that later became IBM.
<img src="https://github.com/jkropko/DS-6001/raw/master/localimages/punchcard2.jpg" width=600></p>
<p>When punchcards became widely used, they were printed with a universal warning: “don’t bend, fold, spindle or mutilate”, which became a cultural meme that long outlived the use of punchcards. In the 1960s, punchcards and the slogan “don’t bend, fold, spindle or mutilate” became symbols of alienation and technocratic oppression used by campus protests and many countercultural movements:</p>
<blockquote>
<div><p>The depersonalization of the punch-card era found its catch phrase in the words on the cards; its ubiquity gave it instant familiarity. One observer of the period wrote that  marijuana, the 60s escape from the rigors of the real world, let you see “the strangeness of real unfolded-unspindled-unmutilated life” (Gitlan 202). “Do not fold, spindle, or mutilate” became shorthand for a whole realm of  countercultural experience. The ecological movement of the early 1970s, a child of the 1960s counterculture, picked up on it too: a popular poster for Earth Day 1970 showed a picture of the Earth taken from space with the legend  “Do not fold, spindle, or mutilate” (Lubar 1992, p. 48).</p>
</div></blockquote>
<p>Starting in the 1950s it became possible to run more advanced statistical analyses, such as linear regression, using <a class="reference external" href="https://en.wikipedia.org/wiki/Mainframe_computer">mainframe computers</a> with punchcard inputs. Many of my professors in grad school had stories about trekking across campus at 3am, the only time they could get access to the computer, to the building with the giant, noisy computer in the basement. They would carry a stack of punchcards, trying hard not to trip or slip on ice because dropping the punchcards would mean hours of work to get them back into a specific order. Finally, while inputting the cards, inevitably one would get jammed, which meant alerting the surly technician on call.</p>
<p>Two technological advances together made punchcards obsolete. First, in the late 1970s and through the 1980s, it became possible to store data directly on a computer hard drive or a floppy disk, which led to the creation of electronic data files such as CSV. Second, the internet made it possible to transfer data electronically, which led to APIs, HTML, and remote databases.</p>
<p>Today there are several common ways to access electronic data.</p>
<ol class="arabic simple">
<li><p>People can share individual data files through websites, email, or hard storage. These files are often in ASCII format, but can be stored in other (sometimes proprietary) formats.</p></li>
<li><p>Through an application programming interface (API): a specific system that connects clients to web servers and allows the transfer of data, often formatted in JavaScript Object Notation (JSON).</p></li>
<li><p>Through raw HTML that can be converted into tabular data through web-scraping.</p></li>
<li><p>Through a local or remote relational database - a collection of many individual datasets - managed using SQL.</p></li>
</ol>
<p>For modern data science, it’s important to be very comfortable working with all of these methods of sharing data. We will go over individual data files in this module, and the other methods in the following modules.</p>
<p>In this notebook, I demonstrate how to load CSV files with various messy properties that have to be addressed when loading the data into Python. I also demonstrate how to look at a dataframe once it’s loaded to search for problems, and how to load fixed width, Excel, SAS, Stata, and SPSS data files. All of the data for these examples are available on this <a class="reference external" href="https://github.com/jkropko/DS-6001/tree/master/localdata">GitHub page</a>.</p>
<p>Before we begin, we load the following libraries:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">tracebacklimit</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># turn off the error tracebacks</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="changing-the-working-directory">
<h2><a class="toc-backref" href="#id3" role="doc-backlink"><span class="section-number">2.2. </span>Changing the Working Directory</a><a class="headerlink" href="#changing-the-working-directory" title="Link to this heading">#</a></h2>
<p>Before we go over the functions to load and save data files, it is useful to set the working directory at the start of your script or notebook. This <strong>sets the default folder where Python opens and saves files</strong>. If all of your files are in the same folder, setting the working directory means you don’t have to write out the paths each time you load or save a file.</p>
<p>To set the working directory:</p>
<ul class="simple">
<li><p>Load the <code class="docutils literal notranslate"><span class="pre">os</span></code> package.</p></li>
<li><p>Type the folder’s address into <code class="docutils literal notranslate"><span class="pre">os.chdir(&quot;</span></code><em>folder</em><code class="docutils literal notranslate"><span class="pre">&quot;)</span></code></p></li>
</ul>
<p>To check on the path Python is currently using as a default, type <code class="docutils literal notranslate"><span class="pre">os.getcwd()</span></code> into the console. If you want to change the working directory back after you’ve run the relevant code, save your old path as an object to begin your notebook, and change the path back to the old path to end your notebook, like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">oldpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s2">&quot;folder&quot;</span><span class="p">)</span>

<span class="c1">#(Your code goes here)</span>

<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">oldpath</span><span class="p">)</span>
</pre></div>
</div>
<p>Because I want this notebook to work on anyone’s environment, I will only work with files that are accessable through the web. But make sure to change the working directory in your own notebooks for working with local data files.</p>
<embed src="https://github.com/jkropko/DS-6001/raw/master/localimages/ascii.pdf" width=500></section>
<section id="text-based-data-files">
<h2><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">2.3. </span>Text-Based Data Files</a><a class="headerlink" href="#text-based-data-files" title="Link to this heading">#</a></h2>
<p>When data could first be stored on harddrives and disks, space was very limited. In order to store data as efficiently as possible, universal standards for which symbols would be considered valid data were adopted. These standards, which are still in use today, are called <a class="reference external" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a>:</p>
<p><strong>ASCII</strong> - (pronounced “As-Key”) American Standard Code for Information Interchange:</p>
<ul class="simple">
<li><p>128 characters are considered to be “legal” in data files.</p></li>
<li><p>ASCII files are plain text files. They may be messy, and not immediately ready for use in analyses, but we have methods to load and clean ASCII data.</p></li>
<li><p>ASCII files are designed to be as small and as universally portable as possible.</p></li>
<li><p>Data points are usually delimited by commas, spaces, or tabs, or might require a data dictionary to read.</p></li>
</ul>
<p>The most common ASCII format is comma-separated values (CSV), in which individual data points are separated by commas. A CSV file is a plain text file that can be opened with Notepad on Windows or with TextEdit on Mac. Each row in the data appears on a new row in the text file, but the columns do not necessarily align - instead the commas represent new columns, so that the fourth and fifth commas on a line surround the fifth column in the data, for example. If the column names are included in the data, they will be listed on the first line. If you open a CSV file in a plain text editor, it will look like this:</p>
<img src="https://github.com/jkropko/DS-6001/raw/master/localimages/ascii1.png" width=600>
<p>On many computers with Microsoft Office installed, CSV files are opened by default in Microsoft Excel. Excel might be a convenient tool for aligning the columns and visualizing the data in a spreadsheet, but please note that the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> filetype is a universal and lightweight format that can be opened in any programming environment. It is not specific to Microsoft:</p>
<img src="https://github.com/jkropko/DS-6001/raw/master/localimages/butterfly.jpg" width=400>
<p>In a CSV, the comma is called the delimiter: the character that separates datapoints. Another frequently used delimiter is the tab. Here’s the same data in tab-separated format:</p>
<img src="https://github.com/jkropko/DS-6001/raw/master/localimages/tsv.png" width=600>
<p>In some situations the data are stored in a way that minimizes the memory needed to contain the data. In that case, we can do away with the delimiter altogether and instead fixing particular spaces on each line to represent specific columns. We can save further space by also removing the column names from the file. This format is called a fixed-width data file, and in a plain text editor it looks like this:</p>
<img src="https://github.com/jkropko/DS-6001/raw/master/localimages/fixedwidth.png" width=600>
<p>Notice that this file contains no information to help us understand what the columns are or where they begin or end. Fixed-width files always come with a data dictionary that contains this information.</p>
<p>I will show examples of how to work with tab-separated, fixed-width, and other files below. But first, to load a standard CSV file with no issues that need to be fixed, use the <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> function. The first argument of <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> is <code class="docutils literal notranslate"><span class="pre">filepath_or_buffer</span></code>, and can be one of three things:</p>
<ol class="arabic simple">
<li><p>The full file address and file name of the data file.</p></li>
<li><p>Just the file name of the data file if you’ve already set the working directory to the folder where the file exist.</p></li>
<li><p>The URL of a data file that’s accessible online.</p></li>
</ol>
<p>Once a data file is loaded into Python with <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code>, it is called a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<p>Here I load public opinion data from the <a class="reference external" href="https://electionstudies.org">American National Election Study</a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jkropko/DS-6001/master/localdata/anes_example.csv&quot;</span>
<span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This dataset is <em>messy</em>! As we proceed you will see confusing column names, misleading codes for missing values, strange encodings for categorical features, and other flaws. It is important for us to work with messy data because data is in general always messy in the real-world.</p>
</section>
<section id="looking-at-the-dataframe-to-see-if-it-loaded-correctly">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">2.4. </span>Looking at the DataFrame to See if it Loaded Correctly</a><a class="headerlink" href="#looking-at-the-dataframe-to-see-if-it-loaded-correctly" title="Link to this heading">#</a></h2>
<p>One of the biggest mistakes someone can make when loading data into Python (or any programming environment) is to assume that the data loaded correctly when the code does not give an error. There are lots of things that can still go wrong. The data might not have properly read the column names, the dimensions might be wrong, the data might have been read in a way that led to valid data getting replaced with missing values, and so on.</p>
<p>There are several functions that are useful for seeing the data to understand whether the data loaded properly. The best strategy is to load data, look at the loaded data to understand any problems, and if necessary, reload the data to fix these problems from the outset.</p>
<section id="viewing-the-data-as-a-spreadsheet">
<h3><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">2.4.1. </span>Viewing the Data as a Spreadsheet</a><a class="headerlink" href="#viewing-the-data-as-a-spreadsheet" title="Link to this heading">#</a></h3>
<p>The best way to visualize the data frame is to type the name of the data frame into a cell in a Jupyter notebook. The output of the cell will be rendered as a spreadsheet, and in that format it will be clear what problems, if any, exist with the data frame. One issue: for large data frames (many rows, many columns, or both), displaying the entire spreadsheet unnecessarily takes up a lot of space. Prior to displaying a spreadsheet, we can set the defaults for the number of rows and columns to be displayed as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1">#display a maximumn of 10 columns</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1">#display a maximumn of 10 rows</span>
</pre></div>
</div>
</div>
</div>
<p>Now I can see a manageable slice of the data frame. Here’s what the ANES data look like:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1200 rows × 168 columns</p>
</div></div></div>
</div>
<p>Note the <code class="docutils literal notranslate"><span class="pre">...</span></code> cells: they are unobtrusive, but in this case they represent 1190 rows and 158 columns. To see more of the data than are contained in this 10 x 10 table, change the defaults in the code listed above.</p>
<p>To see the first several rows, use the <code class="docutils literal notranslate"><span class="pre">.head()</span></code> method. A method is different from a regular function in that it is applied specifically to an existing object in Python’s memory, and it is typed as a suffix to a call to that object. For example, to see the first 10 rows of the <code class="docutils literal notranslate"><span class="pre">anes</span></code> data frame, type:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>1</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>10 rows × 168 columns</p>
</div></div></div>
</div>
<p>To see the last several rows, use the <code class="docutils literal notranslate"><span class="pre">.tail()</span></code> method in exactly the same way:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1190</th>
      <td>1191.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>5</td>
      <td>12.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1191</th>
      <td>1192.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>1193.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>5</td>
      <td>12.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>1194.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>53</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>1195.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>50</td>
      <td>...</td>
      <td>1</td>
      <td>3</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>10 rows × 168 columns</p>
</div></div></div>
</div>
</section>
<section id="displaying-the-data-type-of-each-column">
<h3><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">2.4.2. </span>Displaying the Data Type of Each Column</a><a class="headerlink" href="#displaying-the-data-type-of-each-column" title="Link to this heading">#</a></h3>
<p>All data that is stored in Python’s memory is assigned a type that controls how various functions operate by default on that data. For example, the <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method (that I discuss in the next section) provides means and other summary statistics for numeric data, and frequencies for text data. If you intend to perform mathematical operations on a column in a data frame, such as by including the column in a regression model, it is important to first confirm that the column is read with an appropriate data type. The most common data types are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">int64</span></code>: integer numbers with up to 64 digits</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">float64</span></code>: numbers with decimals with up to 64 total digits</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object</span></code>: text, or numeric data coded as text</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>: only <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">.dtypes</span></code> attribute to display the data types of every column. Because this information is stored in a table, we need to turn off the default limit on the number of rows displayed to see all of the columns’ data types:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="c1">#to see all the variables</span>
<span class="n">anes</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>caseid               float64
turnout12              int64
turnout12b           float64
vote12               float64
percent16              int64
meet                   int64
givefut                int64
info                   int64
march                  int64
sign                   int64
give12mo               int64
compromise             int64
ftobama              float64
ftblack              float64
ftwhite                int64
fthisp               float64
ftgay                float64
ftjeb                float64
fttrump              float64
ftcarson             float64
fthrc                float64
ftrubio              float64
ftcruz               float64
ftsanders            float64
ftfiorina            float64
ftpolice             float64
ftfem                float64
fttrans              float64
ftmuslim             float64
ftsci                float64
reg                    int64
demcand                int64
repcand              float64
vote16jb             float64
vote16bc             float64
vote16tc             float64
vote16mr             float64
vote16dt             float64
presjob                int64
lazyb                  int64
lazyw                  int64
lazyh                  int64
lazym                  int64
violentb               int64
violentw               int64
violenth               int64
violentm               int64
econnow                int64
econ12mo               int64
pid1d                float64
pid2d                 object
pid1r                float64
pid2r                 object
pidstr               float64
pidlean              float64
lcself                 int64
lcd                    int64
lcr                    int64
lchc                   int64
lcbo                   int64
lcdt                   int64
lcmr                   int64
lctc                   int64
srv_spend              int64
campfin                int64
immig_legal            int64
immig_numb             int64
equalpay               int64
parleave               int64
crimespend             int64
death                  int64
terror_worry         float64
terror_12mo          float64
terror_local           int64
relig_bc               int64
relig_bcstr          float64
relig_srv              int64
relig_srvstr         float64
incgap20               int64
isis_troops            int64
syrians_a            float64
syrians_b            float64
pc_a                 float64
pc_b                 float64
minwage                int64
healthspend            int64
childcare              int64
getahead               int64
ladder                 int64
finwell                int64
warm                   int64
warmbad                int64
warmcause              int64
warmdo                 int64
freetrade              int64
stopwhite              int64
stopblack              int64
forcewhite             int64
forceblack             int64
stop_12mo            float64
arrested_12mo        float64
charged_12mo         float64
jailed_12mo          float64
convict_12mo         float64
famstop_12mo         float64
stop_ever            float64
arrested_ever        float64
charged_ever         float64
jailed_ever          float64
convict_ever         float64
famstop_ever         float64
pk_deficit             int64
pk_sen               float64
pk_spend               int64
birthright_a         float64
birthright_b         float64
femoff_jobs          float64
femoff_ed            float64
femoff_spend         float64
femoff_issues        float64
lpres_pleased          int64
lpres_immig          float64
lpres_la             float64
vaccine                int64
autism                 int64
bo_muslim              int64
bo_confid            float64
amer_ident             int64
race_ident             int64
whitework            float64
whitejob             float64
wguilt1              float64
wguilt2              float64
wguilt3              float64
buycott                int64
boycott                int64
skintone_mob           int64
skintone             float64
skin_discrim           int64
africanam10_1        float64
white10_1            float64
hispanic10_1         float64
asianam10_1          float64
nativeam10_1           int64
other10_1            float64
other10_open          object
birthyr                int64
gender                 int64
race                   int64
race_other            object
educ                   int64
marstat                int64
speakspanish           int64
employ               float64
employ_t              object
faminc               float64
faminc2                int64
state                float64
votereg                int64
pid3                   int64
pid7                 float64
ideo5                  int64
newsint                int64
pew_bornagain          int64
pew_churatd            int64
religpew             float64
religpew_t            object
ever_vs_12mo_rand      int64
dtype: object
</pre></div>
</div>
</div>
</div>
<p>Before moving on, we set the default number of rows displayed back to 10:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="displaying-column-names">
<h3><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">2.4.3. </span>Displaying Column Names</a><a class="headerlink" href="#displaying-column-names" title="Link to this heading">#</a></h3>
<p>It can be very useful to display the column names in one readable list so that we can work with the variables/features contained in these columns. But as with data frames, we again need to contend with Python’s default display settings. To turn off the display limit for items in a list, type:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_seq_items&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To display the column names, use the <code class="docutils literal notranslate"><span class="pre">.columns</span></code> attribute. An attribute is like a method in that it is attached to an existing object in Python’s memory, but while a method is a type of function, an attribute is another object. In this case, the column names are contained in a list-type object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;caseid&#39;, &#39;turnout12&#39;, &#39;turnout12b&#39;, &#39;vote12&#39;, &#39;percent16&#39;, &#39;meet&#39;,
       &#39;givefut&#39;, &#39;info&#39;, &#39;march&#39;, &#39;sign&#39;, &#39;give12mo&#39;, &#39;compromise&#39;, &#39;ftobama&#39;,
       &#39;ftblack&#39;, &#39;ftwhite&#39;, &#39;fthisp&#39;, &#39;ftgay&#39;, &#39;ftjeb&#39;, &#39;fttrump&#39;, &#39;ftcarson&#39;,
       &#39;fthrc&#39;, &#39;ftrubio&#39;, &#39;ftcruz&#39;, &#39;ftsanders&#39;, &#39;ftfiorina&#39;, &#39;ftpolice&#39;,
       &#39;ftfem&#39;, &#39;fttrans&#39;, &#39;ftmuslim&#39;, &#39;ftsci&#39;, &#39;reg&#39;, &#39;demcand&#39;, &#39;repcand&#39;,
       &#39;vote16jb&#39;, &#39;vote16bc&#39;, &#39;vote16tc&#39;, &#39;vote16mr&#39;, &#39;vote16dt&#39;, &#39;presjob&#39;,
       &#39;lazyb&#39;, &#39;lazyw&#39;, &#39;lazyh&#39;, &#39;lazym&#39;, &#39;violentb&#39;, &#39;violentw&#39;, &#39;violenth&#39;,
       &#39;violentm&#39;, &#39;econnow&#39;, &#39;econ12mo&#39;, &#39;pid1d&#39;, &#39;pid2d&#39;, &#39;pid1r&#39;, &#39;pid2r&#39;,
       &#39;pidstr&#39;, &#39;pidlean&#39;, &#39;lcself&#39;, &#39;lcd&#39;, &#39;lcr&#39;, &#39;lchc&#39;, &#39;lcbo&#39;, &#39;lcdt&#39;,
       &#39;lcmr&#39;, &#39;lctc&#39;, &#39;srv_spend&#39;, &#39;campfin&#39;, &#39;immig_legal&#39;, &#39;immig_numb&#39;,
       &#39;equalpay&#39;, &#39;parleave&#39;, &#39;crimespend&#39;, &#39;death&#39;, &#39;terror_worry&#39;,
       &#39;terror_12mo&#39;, &#39;terror_local&#39;, &#39;relig_bc&#39;, &#39;relig_bcstr&#39;, &#39;relig_srv&#39;,
       &#39;relig_srvstr&#39;, &#39;incgap20&#39;, &#39;isis_troops&#39;, &#39;syrians_a&#39;, &#39;syrians_b&#39;,
       &#39;pc_a&#39;, &#39;pc_b&#39;, &#39;minwage&#39;, &#39;healthspend&#39;, &#39;childcare&#39;, &#39;getahead&#39;,
       &#39;ladder&#39;, &#39;finwell&#39;, &#39;warm&#39;, &#39;warmbad&#39;, &#39;warmcause&#39;, &#39;warmdo&#39;,
       &#39;freetrade&#39;, &#39;stopwhite&#39;, &#39;stopblack&#39;, &#39;forcewhite&#39;, &#39;forceblack&#39;,
       &#39;stop_12mo&#39;, &#39;arrested_12mo&#39;, &#39;charged_12mo&#39;, &#39;jailed_12mo&#39;,
       &#39;convict_12mo&#39;, &#39;famstop_12mo&#39;, &#39;stop_ever&#39;, &#39;arrested_ever&#39;,
       &#39;charged_ever&#39;, &#39;jailed_ever&#39;, &#39;convict_ever&#39;, &#39;famstop_ever&#39;,
       &#39;pk_deficit&#39;, &#39;pk_sen&#39;, &#39;pk_spend&#39;, &#39;birthright_a&#39;, &#39;birthright_b&#39;,
       &#39;femoff_jobs&#39;, &#39;femoff_ed&#39;, &#39;femoff_spend&#39;, &#39;femoff_issues&#39;,
       &#39;lpres_pleased&#39;, &#39;lpres_immig&#39;, &#39;lpres_la&#39;, &#39;vaccine&#39;, &#39;autism&#39;,
       &#39;bo_muslim&#39;, &#39;bo_confid&#39;, &#39;amer_ident&#39;, &#39;race_ident&#39;, &#39;whitework&#39;,
       &#39;whitejob&#39;, &#39;wguilt1&#39;, &#39;wguilt2&#39;, &#39;wguilt3&#39;, &#39;buycott&#39;, &#39;boycott&#39;,
       &#39;skintone_mob&#39;, &#39;skintone&#39;, &#39;skin_discrim&#39;, &#39;africanam10_1&#39;,
       &#39;white10_1&#39;, &#39;hispanic10_1&#39;, &#39;asianam10_1&#39;, &#39;nativeam10_1&#39;, &#39;other10_1&#39;,
       &#39;other10_open&#39;, &#39;birthyr&#39;, &#39;gender&#39;, &#39;race&#39;, &#39;race_other&#39;, &#39;educ&#39;,
       &#39;marstat&#39;, &#39;speakspanish&#39;, &#39;employ&#39;, &#39;employ_t&#39;, &#39;faminc&#39;, &#39;faminc2&#39;,
       &#39;state&#39;, &#39;votereg&#39;, &#39;pid3&#39;, &#39;pid7&#39;, &#39;ideo5&#39;, &#39;newsint&#39;, &#39;pew_bornagain&#39;,
       &#39;pew_churatd&#39;, &#39;religpew&#39;, &#39;religpew_t&#39;, &#39;ever_vs_12mo_rand&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>It can be difficult to read a list of column names formatted as a list. To see the column names in a more cleanly formatted table, use the <code class="docutils literal notranslate"><span class="pre">.dtypes</span></code> attribute described above or the <code class="docutils literal notranslate"><span class="pre">.info()</span></code> method with <code class="docutils literal notranslate"><span class="pre">verbose=True</span></code>. The <code class="docutils literal notranslate"><span class="pre">info()</span></code> method also displays the dimensions of the data, a count of the data types across columns, and the memory used by the data frame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1200 entries, 0 to 1199
Data columns (total 168 columns):
 #    Column             Dtype  
---   ------             -----  
 0    caseid             float64
 1    turnout12          int64  
 2    turnout12b         float64
 3    vote12             float64
 4    percent16          int64  
 5    meet               int64  
 6    givefut            int64  
 7    info               int64  
 8    march              int64  
 9    sign               int64  
 10   give12mo           int64  
 11   compromise         int64  
 12   ftobama            float64
 13   ftblack            float64
 14   ftwhite            int64  
 15   fthisp             float64
 16   ftgay              float64
 17   ftjeb              float64
 18   fttrump            float64
 19   ftcarson           float64
 20   fthrc              float64
 21   ftrubio            float64
 22   ftcruz             float64
 23   ftsanders          float64
 24   ftfiorina          float64
 25   ftpolice           float64
 26   ftfem              float64
 27   fttrans            float64
 28   ftmuslim           float64
 29   ftsci              float64
 30   reg                int64  
 31   demcand            int64  
 32   repcand            float64
 33   vote16jb           float64
 34   vote16bc           float64
 35   vote16tc           float64
 36   vote16mr           float64
 37   vote16dt           float64
 38   presjob            int64  
 39   lazyb              int64  
 40   lazyw              int64  
 41   lazyh              int64  
 42   lazym              int64  
 43   violentb           int64  
 44   violentw           int64  
 45   violenth           int64  
 46   violentm           int64  
 47   econnow            int64  
 48   econ12mo           int64  
 49   pid1d              float64
 50   pid2d              object 
 51   pid1r              float64
 52   pid2r              object 
 53   pidstr             float64
 54   pidlean            float64
 55   lcself             int64  
 56   lcd                int64  
 57   lcr                int64  
 58   lchc               int64  
 59   lcbo               int64  
 60   lcdt               int64  
 61   lcmr               int64  
 62   lctc               int64  
 63   srv_spend          int64  
 64   campfin            int64  
 65   immig_legal        int64  
 66   immig_numb         int64  
 67   equalpay           int64  
 68   parleave           int64  
 69   crimespend         int64  
 70   death              int64  
 71   terror_worry       float64
 72   terror_12mo        float64
 73   terror_local       int64  
 74   relig_bc           int64  
 75   relig_bcstr        float64
 76   relig_srv          int64  
 77   relig_srvstr       float64
 78   incgap20           int64  
 79   isis_troops        int64  
 80   syrians_a          float64
 81   syrians_b          float64
 82   pc_a               float64
 83   pc_b               float64
 84   minwage            int64  
 85   healthspend        int64  
 86   childcare          int64  
 87   getahead           int64  
 88   ladder             int64  
 89   finwell            int64  
 90   warm               int64  
 91   warmbad            int64  
 92   warmcause          int64  
 93   warmdo             int64  
 94   freetrade          int64  
 95   stopwhite          int64  
 96   stopblack          int64  
 97   forcewhite         int64  
 98   forceblack         int64  
 99   stop_12mo          float64
 100  arrested_12mo      float64
 101  charged_12mo       float64
 102  jailed_12mo        float64
 103  convict_12mo       float64
 104  famstop_12mo       float64
 105  stop_ever          float64
 106  arrested_ever      float64
 107  charged_ever       float64
 108  jailed_ever        float64
 109  convict_ever       float64
 110  famstop_ever       float64
 111  pk_deficit         int64  
 112  pk_sen             float64
 113  pk_spend           int64  
 114  birthright_a       float64
 115  birthright_b       float64
 116  femoff_jobs        float64
 117  femoff_ed          float64
 118  femoff_spend       float64
 119  femoff_issues      float64
 120  lpres_pleased      int64  
 121  lpres_immig        float64
 122  lpres_la           float64
 123  vaccine            int64  
 124  autism             int64  
 125  bo_muslim          int64  
 126  bo_confid          float64
 127  amer_ident         int64  
 128  race_ident         int64  
 129  whitework          float64
 130  whitejob           float64
 131  wguilt1            float64
 132  wguilt2            float64
 133  wguilt3            float64
 134  buycott            int64  
 135  boycott            int64  
 136  skintone_mob       int64  
 137  skintone           float64
 138  skin_discrim       int64  
 139  africanam10_1      float64
 140  white10_1          float64
 141  hispanic10_1       float64
 142  asianam10_1        float64
 143  nativeam10_1       int64  
 144  other10_1          float64
 145  other10_open       object 
 146  birthyr            int64  
 147  gender             int64  
 148  race               int64  
 149  race_other         object 
 150  educ               int64  
 151  marstat            int64  
 152  speakspanish       int64  
 153  employ             float64
 154  employ_t           object 
 155  faminc             float64
 156  faminc2            int64  
 157  state              float64
 158  votereg            int64  
 159  pid3               int64  
 160  pid7               float64
 161  ideo5              int64  
 162  newsint            int64  
 163  pew_bornagain      int64  
 164  pew_churatd        int64  
 165  religpew           float64
 166  religpew_t         object 
 167  ever_vs_12mo_rand  int64  
dtypes: float64(76), int64(86), object(6)
memory usage: 1.5+ MB
</pre></div>
</div>
</div>
</div>
</section>
<section id="descriptive-statistics">
<h3><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">2.4.4. </span>Descriptive Statistics</a><a class="headerlink" href="#descriptive-statistics" title="Link to this heading">#</a></h3>
<p>One way to catch some big errors is to display statistics derived from the columns of the data frame, such as the mean and minimum and maximum values. For example, in the ANES data, <code class="docutils literal notranslate"><span class="pre">ftobama</span></code> records people’s responses to the question: “On a scale from 0 to 100, with 0 being the coldest and 100 being the warmest, how warmly to you feel towards Barack Obama?” I can display various summary statistics for this feature with the following code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span><span class="p">[[</span><span class="s1">&#39;ftobama&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ftobama</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1193.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>50.442582</td>
    </tr>
    <tr>
      <th>std</th>
      <td>54.350731</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>5.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>54.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>87.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>998.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method displays these summary statistics, and typing <code class="docutils literal notranslate"><span class="pre">anes[['ftobama']]</span></code> limits the results to just this one feature (we will discuss subsetting data by columns later in this course). Notice anything strange in the results? The mean value of about 50 seems reasonable, as do the standard deviation and percentiles. But the maximum value is 998 for a feature which by design should be no larger than 100. It turns out that throughout the data 998 is one of a few numeric codes that indicates a nonresponse. We can replace these values with missing values from the outset, and we will do so below in the <a class="reference internal" href="#miss"><span class="xref myst">Data with Numeric Missing Codes</span></a> section.</p>
<p>To change the percentiles that are displayed, use the <code class="docutils literal notranslate"><span class="pre">percentiles</span></code> parameter and provide a list of the desired percentiles. To show percentiles in increments of 20%, type:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span><span class="p">[[</span><span class="s1">&#39;ftobama&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">percentiles</span> <span class="o">=</span> <span class="p">[</span><span class="mf">.2</span><span class="p">,</span> <span class="mf">.4</span><span class="p">,</span> <span class="mf">.6</span><span class="p">,</span> <span class="mf">.8</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ftobama</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1193.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>50.442582</td>
    </tr>
    <tr>
      <th>std</th>
      <td>54.350731</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>20%</th>
      <td>3.000000</td>
    </tr>
    <tr>
      <th>40%</th>
      <td>31.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>54.000000</td>
    </tr>
    <tr>
      <th>60%</th>
      <td>70.000000</td>
    </tr>
    <tr>
      <th>80%</th>
      <td>90.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>998.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Note that the median (50%) is always displayed.</p>
<p>By default the <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method displays summary statistics for all columns with <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">float</span></code> data types. To see the summary statistics for the <code class="docutils literal notranslate"><span class="pre">object</span></code> type columns, use the <code class="docutils literal notranslate"><span class="pre">include</span></code> parameter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s2">&quot;object&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pid2d</th>
      <th>pid2r</th>
      <th>other10_open</th>
      <th>race_other</th>
      <th>employ_t</th>
      <th>religpew_t</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1200</td>
      <td>1199</td>
      <td>94</td>
      <td>1200</td>
      <td>1200</td>
      <td>1200</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>37</td>
      <td>31</td>
      <td>57</td>
      <td>1</td>
      <td>1</td>
      <td>11</td>
    </tr>
    <tr>
      <th>top</th>
      <td>__NA__</td>
      <td>__NA__</td>
      <td>0</td>
      <td>__NA__</td>
      <td>__NA__</td>
      <td>__NA__</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>1159</td>
      <td>1162</td>
      <td>17</td>
      <td>1200</td>
      <td>1200</td>
      <td>1188</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">object</span></code> type columns are treated as text, which means that statistics like the mean and median are impossible to calculate. Instead the <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method gives us the count of non-missing observations, the number of unique observations, the most frequent value of the feature, and the number of times the most frequent value appears.</p>
</section>
</section>
<section id="identifying-and-solving-problems-with-text-based-data-files">
<h2><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">2.5. </span>Identifying and Solving Problems with Text-Based Data Files</a><a class="headerlink" href="#identifying-and-solving-problems-with-text-based-data-files" title="Link to this heading">#</a></h2>
<p>There are many ways that text-based data files can be arranged that cause problems for loading the data into Python and for using the data for analyses. Please note that not every problem needs to be solved in the loading step: the entire <code class="docutils literal notranslate"><span class="pre">pandas</span></code> library exists for cleaning data once it is loaded into Python’s memory. But some problems are more efficiently solved as we load the file. Here we will discuss some common problems and strategies for solving them while loading the data.</p>
<p>I’ve uploaded to the <a class="reference external" href="https://github.com/jkropko/DS-6001/tree/master/localdata">Github page</a> several additional versions of the ANES data that I messed up on purpose.</p>
<section id="comments-prior-to-the-header">
<h3><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">2.5.1. </span>Comments Prior to the Header</a><a class="headerlink" href="#comments-prior-to-the-header" title="Link to this heading">#</a></h3>
<p>I created a version of the ANES data with four rows of comments prior to the column names. The following lines of code display the raw text of this file without trying to load the data frame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jkropko/DS-6001/master/localdata/anes_example_toplines.csv&quot;</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">file</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1000</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>THIS IS THE ANES 2016 PILOT STUDY
DOWNLOADED AND EDITED BY JON KROPKO
WHO ALSO ADDED THESE LINES AT THE TOP OF THE DATA FILE
TO ANNOY HIS STUDENTS
caseid,turnout12,turnout12b,vote12,percent16,meet,givefut,info,march,sign,give12mo,compromise,ftobama,ftblack,ftwhite,fthisp,ftgay,ftjeb,fttrump,ftcarson,fthrc,ftrubio,ftcruz,ftsanders,ftfiorina,ftpolice,ftfem,fttrans,ftmuslim,ftsci,reg,demcand,repcand,vote16jb,vote16bc,vote16tc,vote16mr,vote16dt,presjob,lazyb,lazyw,lazyh,lazym,violentb,violentw,violenth,violentm,econnow,econ12mo,pid1d,pid2d,pid1r,pid2r,pidstr,pidlean,lcself,lcd,lcr,lchc,lcbo,lcdt,lcmr,lctc,srv_spend,campfin,immig_legal,immig_numb,equalpay,parleave,crimespend,death,terror_worry,terror_12mo,terror_local,relig_bc,relig_bcstr,relig_srv,relig_srvstr,incgap20,isis_troops,syrians_a,syrians_b,pc_a,pc_b,minwage,healthspend,childcare,getahead,ladder,finwell,warm,warmbad,warmcause,warmdo,freetrade,stopwhite,stopblack,forcewhite,forceblack,stop_12mo,arrested_12mo,charged_12mo,jailed_12
</pre></div>
</div>
</div>
</div>
<p>If I try to load the data file as it currently exists by typing</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
<p>I get the following error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ParserError</span><span class="p">:</span> <span class="n">Error</span> <span class="n">tokenizing</span> <span class="n">data</span><span class="o">.</span> <span class="n">C</span> <span class="n">error</span><span class="p">:</span> <span class="n">Expected</span> <span class="mi">1</span> <span class="n">fields</span> <span class="ow">in</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="n">saw</span> <span class="mi">168</span>
</pre></div>
</div>
<p>This error occurs because the first line tells the <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> function that there is one column in the data, as there are no commas on this line. So by the time the column names appear there are more commas than the parser knows how to handle.</p>
<p>To solve this problem, use the <code class="docutils literal notranslate"><span class="pre">header</span></code> parameter to tell <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> how many rows of the data file are taken up by the unwanted header. This function always supposes that the column names are the first row of the data after the header.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1200 rows × 168 columns</p>
</div></div></div>
</div>
</section>
<section id="data-with-numeric-missing-codes">
<h3><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">2.5.2. </span>Data with Numeric Missing Codes</a><a class="headerlink" href="#data-with-numeric-missing-codes" title="Link to this heading">#</a></h3>
<p>I created a version of the data that uses -999 throughout to represent various missing values, such as when a survey respondent refuses to answer a question:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jkropko/DS-6001/master/localdata/anes_example_missing.csv&quot;</span>
<span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>-999</td>
      <td>2</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>-999</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2</td>
      <td>-999</td>
      <td>-999</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>-999</td>
      <td>1</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>-999</td>
      <td>2</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>-999</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>1</td>
      <td>-999</td>
      <td>1</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196</td>
      <td>1</td>
      <td>-999</td>
      <td>2</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197</td>
      <td>1</td>
      <td>-999</td>
      <td>1</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198</td>
      <td>1</td>
      <td>-999</td>
      <td>2</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>-999</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199</td>
      <td>1</td>
      <td>-999</td>
      <td>2</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200</td>
      <td>2</td>
      <td>-999</td>
      <td>-999</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1200 rows × 168 columns</p>
</div></div></div>
</div>
<p>We can always proceed with the data frame as it is, and use various functions in <code class="docutils literal notranslate"><span class="pre">pandas</span></code> to replace these -999 values. But in this case, it is easier to read these values as missing as we load the data. We can do that with the <code class="docutils literal notranslate"><span class="pre">na_values</span></code> parameter. Then all of the -999 values are replaced with the <code class="docutils literal notranslate"><span class="pre">NaN</span></code> character, which Python recognizes as a missing datapoint.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">na_values</span> <span class="o">=</span> <span class="o">-</span><span class="mi">999</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1200 rows × 168 columns</p>
</div></div></div>
</div>
</section>
<section id="comments-inside-the-data">
<h3><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">2.5.3. </span>Comments Inside the Data</a><a class="headerlink" href="#comments-inside-the-data" title="Link to this heading">#</a></h3>
<p>Suppose that you work with a data file in which the data provider left comments throughout the data. That’s heresy. But it can definitely happen. Hopefully the commenter had enough forethought to place a uniform character in front of these comments. If so, we can remove the comments while loading the data. Consider the following data file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jkropko/DS-6001/master/localdata/anes_example_comments.txt&quot;</span>
<span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100.0</td>
      <td>...</td>
      <td>2.0</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50.0</td>
      <td>...</td>
      <td>2.0</td>
      <td>4.0</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100.0</td>
      <td>...</td>
      <td>2.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>@NEXT COMES A BUNCH MORE OBSERVATIONS!</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100.0</td>
      <td>...</td>
      <td>2.0</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1196</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100.0</td>
      <td>...</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1197</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1198</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95.0</td>
      <td>...</td>
      <td>2.0</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1200</th>
      <td>1199</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80.0</td>
      <td>...</td>
      <td>2.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1201</th>
      <td>1200</td>
      <td>2.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>...</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
<p>1202 rows × 168 columns</p>
</div></div></div>
</div>
<p>To ignore these comments, use the <code class="docutils literal notranslate"><span class="pre">comment</span></code> parameter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39;@&#39;</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1200 rows × 168 columns</p>
</div></div></div>
</div>
</section>
<section id="data-without-column-names">
<h3><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">2.5.4. </span>Data Without Column Names</a><a class="headerlink" href="#data-without-column-names" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> function assumes that the column names are listed on the first line of the data file, unless the <code class="docutils literal notranslate"><span class="pre">header</span></code> parameter is used, in which it assumes the column names are on the first line after the header. But if the data do not contain a row of column names then Python will use the first line of valid data as the column names. I created a version of the ANES data with the column names deleted. Consider what happens when I load this data file normally:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jkropko/DS-6001/master/localdata/anes_example_nocolnames.csv&quot;</span>
<span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>1</th>
      <th>1.1</th>
      <th>NA</th>
      <th>2</th>
      <th>100</th>
      <th>...</th>
      <th>2.24</th>
      <th>6.7</th>
      <th>NA.19</th>
      <th>__NA__.4</th>
      <th>2.25</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1199 rows × 168 columns</p>
</div></div></div>
</div>
<p>The column names are not descriptive of what the columns represent. But worse than that, these names are the datapoints from the first row of the data. That means we’ve lost an observation. To deal with this problem, use the <code class="docutils literal notranslate"><span class="pre">header=None</span></code> parameter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>...</th>
      <th>163</th>
      <th>164</th>
      <th>165</th>
      <th>166</th>
      <th>167</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1200 rows × 168 columns</p>
</div></div></div>
</div>
<p>While we still have the issue that the column names are non-descriptive, at they are logically labeled in numeric order from left to right, and we haven’t lost the first observation. If we want to add the prefix “X” to each of these numbers, we can add the <code class="docutils literal notranslate"><span class="pre">prefix=&quot;X&quot;</span></code> parameter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">23</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">anes</span>

<span class="ne">TypeError</span>: read_csv() got an unexpected keyword argument &#39;prefix&#39;
</pre></div>
</div>
</div>
</div>
<p>If the data do not contain a header row for variable names, and we want the variables to have the right names, we have to define the names separately and pass this list using the <code class="docutils literal notranslate"><span class="pre">names</span></code> parameter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;caseid&#39;</span><span class="p">,</span> <span class="s1">&#39;turnout12&#39;</span><span class="p">,</span> <span class="s1">&#39;turnout12b&#39;</span><span class="p">,</span> <span class="s1">&#39;vote12&#39;</span><span class="p">,</span> <span class="s1">&#39;percent16&#39;</span><span class="p">,</span> <span class="s1">&#39;meet&#39;</span><span class="p">,</span>
       <span class="s1">&#39;givefut&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;march&#39;</span><span class="p">,</span> <span class="s1">&#39;sign&#39;</span><span class="p">,</span> <span class="s1">&#39;give12mo&#39;</span><span class="p">,</span> <span class="s1">&#39;compromise&#39;</span><span class="p">,</span> <span class="s1">&#39;ftobama&#39;</span><span class="p">,</span>
       <span class="s1">&#39;ftblack&#39;</span><span class="p">,</span> <span class="s1">&#39;ftwhite&#39;</span><span class="p">,</span> <span class="s1">&#39;fthisp&#39;</span><span class="p">,</span> <span class="s1">&#39;ftgay&#39;</span><span class="p">,</span> <span class="s1">&#39;ftjeb&#39;</span><span class="p">,</span> <span class="s1">&#39;fttrump&#39;</span><span class="p">,</span> <span class="s1">&#39;ftcarson&#39;</span><span class="p">,</span>
       <span class="s1">&#39;fthrc&#39;</span><span class="p">,</span> <span class="s1">&#39;ftrubio&#39;</span><span class="p">,</span> <span class="s1">&#39;ftcruz&#39;</span><span class="p">,</span> <span class="s1">&#39;ftsanders&#39;</span><span class="p">,</span> <span class="s1">&#39;ftfiorina&#39;</span><span class="p">,</span> <span class="s1">&#39;ftpolice&#39;</span><span class="p">,</span>
       <span class="s1">&#39;ftfem&#39;</span><span class="p">,</span> <span class="s1">&#39;fttrans&#39;</span><span class="p">,</span> <span class="s1">&#39;ftmuslim&#39;</span><span class="p">,</span> <span class="s1">&#39;ftsci&#39;</span><span class="p">,</span> <span class="s1">&#39;reg&#39;</span><span class="p">,</span> <span class="s1">&#39;demcand&#39;</span><span class="p">,</span> <span class="s1">&#39;repcand&#39;</span><span class="p">,</span>
       <span class="s1">&#39;vote16jb&#39;</span><span class="p">,</span> <span class="s1">&#39;vote16bc&#39;</span><span class="p">,</span> <span class="s1">&#39;vote16tc&#39;</span><span class="p">,</span> <span class="s1">&#39;vote16mr&#39;</span><span class="p">,</span> <span class="s1">&#39;vote16dt&#39;</span><span class="p">,</span> <span class="s1">&#39;presjob&#39;</span><span class="p">,</span>
       <span class="s1">&#39;lazyb&#39;</span><span class="p">,</span> <span class="s1">&#39;lazyw&#39;</span><span class="p">,</span> <span class="s1">&#39;lazyh&#39;</span><span class="p">,</span> <span class="s1">&#39;lazym&#39;</span><span class="p">,</span> <span class="s1">&#39;violentb&#39;</span><span class="p">,</span> <span class="s1">&#39;violentw&#39;</span><span class="p">,</span> <span class="s1">&#39;violenth&#39;</span><span class="p">,</span>
       <span class="s1">&#39;violentm&#39;</span><span class="p">,</span> <span class="s1">&#39;econnow&#39;</span><span class="p">,</span> <span class="s1">&#39;econ12mo&#39;</span><span class="p">,</span> <span class="s1">&#39;pid1d&#39;</span><span class="p">,</span> <span class="s1">&#39;pid2d&#39;</span><span class="p">,</span> <span class="s1">&#39;pid1r&#39;</span><span class="p">,</span> <span class="s1">&#39;pid2r&#39;</span><span class="p">,</span>
       <span class="s1">&#39;pidstr&#39;</span><span class="p">,</span> <span class="s1">&#39;pidlean&#39;</span><span class="p">,</span> <span class="s1">&#39;lcself&#39;</span><span class="p">,</span> <span class="s1">&#39;lcd&#39;</span><span class="p">,</span> <span class="s1">&#39;lcr&#39;</span><span class="p">,</span> <span class="s1">&#39;lchc&#39;</span><span class="p">,</span> <span class="s1">&#39;lcbo&#39;</span><span class="p">,</span> <span class="s1">&#39;lcdt&#39;</span><span class="p">,</span>
       <span class="s1">&#39;lcmr&#39;</span><span class="p">,</span> <span class="s1">&#39;lctc&#39;</span><span class="p">,</span> <span class="s1">&#39;srv_spend&#39;</span><span class="p">,</span> <span class="s1">&#39;campfin&#39;</span><span class="p">,</span> <span class="s1">&#39;immig_legal&#39;</span><span class="p">,</span> <span class="s1">&#39;immig_numb&#39;</span><span class="p">,</span>
       <span class="s1">&#39;equalpay&#39;</span><span class="p">,</span> <span class="s1">&#39;parleave&#39;</span><span class="p">,</span> <span class="s1">&#39;crimespend&#39;</span><span class="p">,</span> <span class="s1">&#39;death&#39;</span><span class="p">,</span> <span class="s1">&#39;terror_worry&#39;</span><span class="p">,</span>
       <span class="s1">&#39;terror_12mo&#39;</span><span class="p">,</span> <span class="s1">&#39;terror_local&#39;</span><span class="p">,</span> <span class="s1">&#39;relig_bc&#39;</span><span class="p">,</span> <span class="s1">&#39;relig_bcstr&#39;</span><span class="p">,</span> <span class="s1">&#39;relig_srv&#39;</span><span class="p">,</span>
       <span class="s1">&#39;relig_srvstr&#39;</span><span class="p">,</span> <span class="s1">&#39;incgap20&#39;</span><span class="p">,</span> <span class="s1">&#39;isis_troops&#39;</span><span class="p">,</span> <span class="s1">&#39;syrians_a&#39;</span><span class="p">,</span> <span class="s1">&#39;syrians_b&#39;</span><span class="p">,</span>
       <span class="s1">&#39;pc_a&#39;</span><span class="p">,</span> <span class="s1">&#39;pc_b&#39;</span><span class="p">,</span> <span class="s1">&#39;minwage&#39;</span><span class="p">,</span> <span class="s1">&#39;healthspend&#39;</span><span class="p">,</span> <span class="s1">&#39;childcare&#39;</span><span class="p">,</span> <span class="s1">&#39;getahead&#39;</span><span class="p">,</span>
       <span class="s1">&#39;ladder&#39;</span><span class="p">,</span> <span class="s1">&#39;finwell&#39;</span><span class="p">,</span> <span class="s1">&#39;warm&#39;</span><span class="p">,</span> <span class="s1">&#39;warmbad&#39;</span><span class="p">,</span> <span class="s1">&#39;warmcause&#39;</span><span class="p">,</span> <span class="s1">&#39;warmdo&#39;</span><span class="p">,</span>
       <span class="s1">&#39;freetrade&#39;</span><span class="p">,</span> <span class="s1">&#39;stopwhite&#39;</span><span class="p">,</span> <span class="s1">&#39;stopblack&#39;</span><span class="p">,</span> <span class="s1">&#39;forcewhite&#39;</span><span class="p">,</span> <span class="s1">&#39;forceblack&#39;</span><span class="p">,</span>
       <span class="s1">&#39;stop_12mo&#39;</span><span class="p">,</span> <span class="s1">&#39;arrested_12mo&#39;</span><span class="p">,</span> <span class="s1">&#39;charged_12mo&#39;</span><span class="p">,</span> <span class="s1">&#39;jailed_12mo&#39;</span><span class="p">,</span>
       <span class="s1">&#39;convict_12mo&#39;</span><span class="p">,</span> <span class="s1">&#39;famstop_12mo&#39;</span><span class="p">,</span> <span class="s1">&#39;stop_ever&#39;</span><span class="p">,</span> <span class="s1">&#39;arrested_ever&#39;</span><span class="p">,</span>
       <span class="s1">&#39;charged_ever&#39;</span><span class="p">,</span> <span class="s1">&#39;jailed_ever&#39;</span><span class="p">,</span> <span class="s1">&#39;convict_ever&#39;</span><span class="p">,</span> <span class="s1">&#39;famstop_ever&#39;</span><span class="p">,</span>
       <span class="s1">&#39;pk_deficit&#39;</span><span class="p">,</span> <span class="s1">&#39;pk_sen&#39;</span><span class="p">,</span> <span class="s1">&#39;pk_spend&#39;</span><span class="p">,</span> <span class="s1">&#39;birthright_a&#39;</span><span class="p">,</span> <span class="s1">&#39;birthright_b&#39;</span><span class="p">,</span>
       <span class="s1">&#39;femoff_jobs&#39;</span><span class="p">,</span> <span class="s1">&#39;femoff_ed&#39;</span><span class="p">,</span> <span class="s1">&#39;femoff_spend&#39;</span><span class="p">,</span> <span class="s1">&#39;femoff_issues&#39;</span><span class="p">,</span>
       <span class="s1">&#39;lpres_pleased&#39;</span><span class="p">,</span> <span class="s1">&#39;lpres_immig&#39;</span><span class="p">,</span> <span class="s1">&#39;lpres_la&#39;</span><span class="p">,</span> <span class="s1">&#39;vaccine&#39;</span><span class="p">,</span> <span class="s1">&#39;autism&#39;</span><span class="p">,</span>
       <span class="s1">&#39;bo_muslim&#39;</span><span class="p">,</span> <span class="s1">&#39;bo_confid&#39;</span><span class="p">,</span> <span class="s1">&#39;amer_ident&#39;</span><span class="p">,</span> <span class="s1">&#39;race_ident&#39;</span><span class="p">,</span> <span class="s1">&#39;whitework&#39;</span><span class="p">,</span>
       <span class="s1">&#39;whitejob&#39;</span><span class="p">,</span> <span class="s1">&#39;wguilt1&#39;</span><span class="p">,</span> <span class="s1">&#39;wguilt2&#39;</span><span class="p">,</span> <span class="s1">&#39;wguilt3&#39;</span><span class="p">,</span> <span class="s1">&#39;buycott&#39;</span><span class="p">,</span> <span class="s1">&#39;boycott&#39;</span><span class="p">,</span>
       <span class="s1">&#39;skintone_mob&#39;</span><span class="p">,</span> <span class="s1">&#39;skintone&#39;</span><span class="p">,</span> <span class="s1">&#39;skin_discrim&#39;</span><span class="p">,</span> <span class="s1">&#39;africanam10_1&#39;</span><span class="p">,</span>
       <span class="s1">&#39;white10_1&#39;</span><span class="p">,</span> <span class="s1">&#39;hispanic10_1&#39;</span><span class="p">,</span> <span class="s1">&#39;asianam10_1&#39;</span><span class="p">,</span> <span class="s1">&#39;nativeam10_1&#39;</span><span class="p">,</span> <span class="s1">&#39;other10_1&#39;</span><span class="p">,</span>
       <span class="s1">&#39;other10_open&#39;</span><span class="p">,</span> <span class="s1">&#39;birthyr&#39;</span><span class="p">,</span> <span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;race_other&#39;</span><span class="p">,</span> <span class="s1">&#39;educ&#39;</span><span class="p">,</span>
       <span class="s1">&#39;marstat&#39;</span><span class="p">,</span> <span class="s1">&#39;speakspanish&#39;</span><span class="p">,</span> <span class="s1">&#39;employ&#39;</span><span class="p">,</span> <span class="s1">&#39;employ_t&#39;</span><span class="p">,</span> <span class="s1">&#39;faminc&#39;</span><span class="p">,</span> <span class="s1">&#39;faminc2&#39;</span><span class="p">,</span>
       <span class="s1">&#39;state&#39;</span><span class="p">,</span> <span class="s1">&#39;votereg&#39;</span><span class="p">,</span> <span class="s1">&#39;pid3&#39;</span><span class="p">,</span> <span class="s1">&#39;pid7&#39;</span><span class="p">,</span> <span class="s1">&#39;ideo5&#39;</span><span class="p">,</span> <span class="s1">&#39;newsint&#39;</span><span class="p">,</span> <span class="s1">&#39;pew_bornagain&#39;</span><span class="p">,</span>
       <span class="s1">&#39;pew_churatd&#39;</span><span class="p">,</span> <span class="s1">&#39;religpew&#39;</span><span class="p">,</span> <span class="s1">&#39;religpew_t&#39;</span><span class="p">,</span> <span class="s1">&#39;ever_vs_12mo_rand&#39;</span><span class="p">]</span>
<span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">col_names</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1200 rows × 168 columns</p>
</div></div></div>
</div>
</section>
<section id="delimiters-other-than-commas">
<h3><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">2.5.5. </span>Delimiters Other Than Commas</a><a class="headerlink" href="#delimiters-other-than-commas" title="Link to this heading">#</a></h3>
<p>Here’s a version of the ANES data that is delimited by tabs:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jkropko/DS-6001/master/localdata/anes_example_tab.txt&quot;</span>
<span class="n">file</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2000</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>caseid	turnout12	turnout12b	vote12	percent16	meet	givefut	info	march	sign	give12mo	compromise	ftobama	ftblack	ftwhite	fthisp	ftgay	ftjeb	fttrump	ftcarson	fthrc	ftrubio	ftcruz	ftsanders	ftfiorina	ftpolice	ftfem	fttrans	ftmuslim	ftsci	reg	demcand	repcand	vote16jb	vote16bc	vote16tc	vote16mr	vote16dt	presjob	lazyb	lazyw	lazyh	lazym	violentb	violentw	violenth	violentm	econnow	econ12mo	pid1d	pid2d	pid1r	pid2r	pidstr	pidlean	lcself	lcd	lcr	lchc	lcbo	lcdt	lcmr	lctc	srv_spend	campfin	immig_legal	immig_numb	equalpay	parleave	crimespend	death	terror_worry	terror_12mo	terror_local	relig_bc	relig_bcstr	relig_srv	relig_srvstr	incgap20	isis_troops	syrians_a	syrians_b	pc_a	pc_b	minwage	healthspend	childcare	getahead	ladder	finwell	warm	warmbad	warmcause	warmdo	freetrade	stopwhite	stopblack	forcewhite	forceblack	stop_12mo	arrested_12mo	charged_12mo	jailed_12mo	convict_12mo	famstop_12mo	stop_ever	arrested_ever	charged_ever	jailed_ever	convict_ever	famstop_ever	pk_deficit	pk_sen	pk_spend	birthright_a	birthright_b	femoff_jobs	femoff_ed	femoff_spend	femoff_issues	lpres_pleased	lpres_immig	lpres_la	vaccine	autism	bo_muslim	bo_confid	amer_ident	race_ident	whitework	whitejob	wguilt1	wguilt2	wguilt3	buycott	boycott	skintone_mob	skintone	skin_discrim	africanam10_1	white10_1	hispanic10_1	asianam10_1	nativeam10_1	other10_1	other10_open	birthyr	gender	race	race_other	educ	marstat	speakspanish	employ	employ_t	faminc	faminc2	state	votereg	pid3	pid7	ideo5	newsint	pew_bornagain	pew_churatd	religpew	religpew_t	ever_vs_12mo_rand
1	1	NA	2	100	1	3	4	1	2	2	1	100	100	100	100	96	36	1	5	76	31	0	84	2	51	62	97	20	100	1	1	6	NA	NA	NA	1	1	1	5	5	5	5	5	5	5	5	2	2	NA	__NA__	1	__NA__	1	NA	4	3	4	5	5	4	4	4	7	1	1	2	1	2	5	7	5	4	5	2	1	2	1	1	7	NA	2	NA	3	1	1	1	4	6	6	1	2	1	1	4	2	4	2	4	NA	NA	NA	NA	NA	NA	1	2	2	2	2	2	1	6	1	NA	2	NA	4	4	NA	5	NA	5	1	6	2	1	4	4	5	5	5	5	5	2	2	99	2	5	0	10	0	0	0	0	NA	1960	1	1	__NA__	5	1	4	1	__NA__	4	99	6	1	1	1	6	1	2	6	NA	__NA__	2
2	2	NA	NA	50	4	5	4	2	2	2	1	39	6	74	6	75	28	28	6	52	21	10	13	6	65	53	49	2
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> file also loads text-based data files with delimiters other than commas. To load tab-delimited data, use the <code class="docutils literal notranslate"><span class="pre">sep=&quot;\t&quot;</span></code> parameter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1200 rows × 168 columns</p>
</div></div></div>
</div>
<p>For delimiters other than a tab, simply type that character in quotes with the <code class="docutils literal notranslate"><span class="pre">sep</span></code> parameter. Here’s another version of the ANES data, delimited by semi-colons:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jkropko/DS-6001/master/localdata/anes_example_semicolon.txt&quot;</span>
<span class="n">file</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2000</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>caseid;turnout12;turnout12b;vote12;percent16;meet;givefut;info;march;sign;give12mo;compromise;ftobama;ftblack;ftwhite;fthisp;ftgay;ftjeb;fttrump;ftcarson;fthrc;ftrubio;ftcruz;ftsanders;ftfiorina;ftpolice;ftfem;fttrans;ftmuslim;ftsci;reg;demcand;repcand;vote16jb;vote16bc;vote16tc;vote16mr;vote16dt;presjob;lazyb;lazyw;lazyh;lazym;violentb;violentw;violenth;violentm;econnow;econ12mo;pid1d;pid2d;pid1r;pid2r;pidstr;pidlean;lcself;lcd;lcr;lchc;lcbo;lcdt;lcmr;lctc;srv_spend;campfin;immig_legal;immig_numb;equalpay;parleave;crimespend;death;terror_worry;terror_12mo;terror_local;relig_bc;relig_bcstr;relig_srv;relig_srvstr;incgap20;isis_troops;syrians_a;syrians_b;pc_a;pc_b;minwage;healthspend;childcare;getahead;ladder;finwell;warm;warmbad;warmcause;warmdo;freetrade;stopwhite;stopblack;forcewhite;forceblack;stop_12mo;arrested_12mo;charged_12mo;jailed_12mo;convict_12mo;famstop_12mo;stop_ever;arrested_ever;charged_ever;jailed_ever;convict_ever;famstop_ever;pk_deficit;pk_sen;pk_spend;birthright_a;birthright_b;femoff_jobs;femoff_ed;femoff_spend;femoff_issues;lpres_pleased;lpres_immig;lpres_la;vaccine;autism;bo_muslim;bo_confid;amer_ident;race_ident;whitework;whitejob;wguilt1;wguilt2;wguilt3;buycott;boycott;skintone_mob;skintone;skin_discrim;africanam10_1;white10_1;hispanic10_1;asianam10_1;nativeam10_1;other10_1;other10_open;birthyr;gender;race;race_other;educ;marstat;speakspanish;employ;employ_t;faminc;faminc2;state;votereg;pid3;pid7;ideo5;newsint;pew_bornagain;pew_churatd;religpew;religpew_t;ever_vs_12mo_rand
1;1;NA;2;100;1;3;4;1;2;2;1;100;100;100;100;96;36;1;5;76;31;0;84;2;51;62;97;20;100;1;1;6;NA;NA;NA;1;1;1;5;5;5;5;5;5;5;5;2;2;NA;__NA__;1;__NA__;1;NA;4;3;4;5;5;4;4;4;7;1;1;2;1;2;5;7;5;4;5;2;1;2;1;1;7;NA;2;NA;3;1;1;1;4;6;6;1;2;1;1;4;2;4;2;4;NA;NA;NA;NA;NA;NA;1;2;2;2;2;2;1;6;1;NA;2;NA;4;4;NA;5;NA;5;1;6;2;1;4;4;5;5;5;5;5;2;2;99;2;5;0;10;0;0;0;0;NA;1960;1;1;__NA__;5;1;4;1;__NA__;4;99;6;1;1;1;6;1;2;6;NA;__NA__;2
2;2;NA;NA;50;4;5;4;2;2;2;1;39;6;74;6;75;28;28;6;52;21;10;13;6;65;53;49;2
</pre></div>
</div>
</div>
</div>
<p>To load the data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
<span class="n">anes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>turnout12</th>
      <th>turnout12b</th>
      <th>vote12</th>
      <th>percent16</th>
      <th>...</th>
      <th>pew_bornagain</th>
      <th>pew_churatd</th>
      <th>religpew</th>
      <th>religpew_t</th>
      <th>ever_vs_12mo_rand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>50</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>3.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>1196.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>100</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>1197.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>80</td>
      <td>...</td>
      <td>1</td>
      <td>2</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>1198.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>95</td>
      <td>...</td>
      <td>2</td>
      <td>6</td>
      <td>NaN</td>
      <td>__NA__</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>1199.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>80</td>
      <td>...</td>
      <td>2</td>
      <td>4</td>
      <td>1.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>1200.0</td>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2.0</td>
      <td>__NA__</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1200 rows × 168 columns</p>
</div></div></div>
</div>
</section>
<section id="fixed-width-files">
<h3><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">2.5.6. </span>Fixed-width Files</a><a class="headerlink" href="#fixed-width-files" title="Link to this heading">#</a></h3>
<p>A fixed-width file contains no delimiters. Instead, it aligns all of the data for one variable in the same position on each row. These files generally do not store variable names, and might use less memory than CSV. But that makes the data impossible to parse without an external list of where each variable is stored. The first and most important step is to get this list.</p>
<p>For this example, I pulled data from a public opinion survey conducted by the National Journal a few years ago. The data are available from the <a class="reference external" href="https://ropercenter.cornell.edu/">Roper Center for Public Opinion Research</a>, and the raw data are in fixed-width format. The codebook is stored on <a class="reference external" href="https://github.com/jkropko/DS-6001/raw/master/localdata/njcc_codebook.pdf">GitHub</a>, take a look. The features are listed on page 3, along with their column positions.</p>
<p>Loading a fixed-width file is a two step process. First, we use the codebook to create lists of the variable names, and either the width of each variable (how many columns each variable takes up), or the starting and ending position. Here we save both lists, although you will only need one of these two lists.</p>
<p>For the starting and ending position of each variable, we create a list of length 2 for each variable, where the first element is the column the previous variable ends on (or 0 for the first variable) and the second element is the column the current variable ends on. For example, if a variable occupies columns 34, 35, and 36, its list of length 2 is [33,36]. Then we store the lists-of-2 in a list-of-lists.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/NovaVolunteer/Practice_Application_DS/master/Week%205/njcc33850.dat&quot;</span>

<span class="n">datanames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;psraid&#39;</span><span class="p">,</span> <span class="s1">&#39;sample&#39;</span><span class="p">,</span> <span class="s1">&#39;int_date&#39;</span><span class="p">,</span> <span class="s1">&#39;area&#39;</span><span class="p">,</span>
<span class="s1">&#39;state&#39;</span><span class="p">,</span> <span class="s1">&#39;cregion&#39;</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span> <span class="s1">&#39;usr&#39;</span><span class="p">,</span> <span class="s1">&#39;cc1&#39;</span><span class="p">,</span> <span class="s1">&#39;cc1a&#39;</span><span class="p">,</span>
<span class="s1">&#39;cc2&#39;</span><span class="p">,</span> <span class="s1">&#39;cc3&#39;</span><span class="p">,</span> <span class="s1">&#39;cc4&#39;</span><span class="p">,</span> <span class="s1">&#39;cc5&#39;</span><span class="p">,</span> <span class="s1">&#39;cc6&#39;</span><span class="p">,</span> <span class="s1">&#39;cc7&#39;</span><span class="p">,</span> <span class="s1">&#39;ql1&#39;</span><span class="p">,</span> <span class="s1">&#39;ql1a&#39;</span><span class="p">,</span>
<span class="s1">&#39;qc1&#39;</span><span class="p">,</span> <span class="s1">&#39;hh1&#39;</span><span class="p">,</span> <span class="s1">&#39;employ&#39;</span><span class="p">,</span> <span class="s1">&#39;par&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;educ2&#39;</span><span class="p">,</span>
<span class="s1">&#39;hisp&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">,</span> <span class="s1">&#39;reg&#39;</span><span class="p">,</span> <span class="s1">&#39;party&#39;</span><span class="p">,</span>
<span class="s1">&#39;partyln&#39;</span><span class="p">,</span> <span class="s1">&#39;iphoneus&#39;</span><span class="p">,</span> <span class="s1">&#39;hphoneus&#39;</span><span class="p">,</span> <span class="s1">&#39;recage&#39;</span><span class="p">,</span> <span class="s1">&#39;receduc&#39;</span><span class="p">,</span>
<span class="s1">&#39;racethn&#39;</span><span class="p">,</span> <span class="s1">&#39;standwt&#39;</span><span class="p">,</span> <span class="s1">&#39;raceos&#39;</span><span class="p">]</span>

<span class="n">datawidths</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> 
            <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> 
            <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> 
            <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>

<span class="n">datapos</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">13</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span><span class="mi">16</span><span class="p">],</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span><span class="mi">18</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">],</span> <span class="p">[</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span><span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">],</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">],</span> <span class="p">[</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">],</span> <span class="p">[</span><span class="mi">27</span><span class="p">,</span><span class="mi">28</span><span class="p">],</span> <span class="p">[</span><span class="mi">28</span><span class="p">,</span><span class="mi">29</span><span class="p">],</span> <span class="p">[</span><span class="mi">29</span><span class="p">,</span><span class="mi">30</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span><span class="p">],</span> <span class="p">[</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">],</span> <span class="p">[</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">],</span> <span class="p">[</span><span class="mi">34</span><span class="p">,</span><span class="mi">35</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">35</span><span class="p">,</span><span class="mi">36</span><span class="p">],</span> <span class="p">[</span><span class="mi">36</span><span class="p">,</span><span class="mi">37</span><span class="p">],</span> <span class="p">[</span><span class="mi">37</span><span class="p">,</span><span class="mi">38</span><span class="p">],</span> <span class="p">[</span><span class="mi">38</span><span class="p">,</span><span class="mi">40</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span><span class="mi">41</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">41</span><span class="p">,</span><span class="mi">42</span><span class="p">],</span> <span class="p">[</span><span class="mi">42</span><span class="p">,</span><span class="mi">43</span><span class="p">],</span> <span class="p">[</span><span class="mi">43</span><span class="p">,</span><span class="mi">45</span><span class="p">],</span> <span class="p">[</span><span class="mi">45</span><span class="p">,</span><span class="mi">46</span><span class="p">],</span> <span class="p">[</span><span class="mi">46</span><span class="p">,</span><span class="mi">47</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">47</span><span class="p">,</span><span class="mi">48</span><span class="p">],</span> <span class="p">[</span><span class="mi">48</span><span class="p">,</span><span class="mi">49</span><span class="p">],</span> <span class="p">[</span><span class="mi">49</span><span class="p">,</span><span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span><span class="mi">51</span><span class="p">],</span> <span class="p">[</span><span class="mi">51</span><span class="p">,</span><span class="mi">52</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">52</span><span class="p">,</span><span class="mi">53</span><span class="p">],</span> <span class="p">[</span><span class="mi">53</span><span class="p">,</span><span class="mi">54</span><span class="p">],</span> <span class="p">[</span><span class="mi">54</span><span class="p">,</span><span class="mi">58</span><span class="p">],</span> <span class="p">[</span><span class="mi">58</span><span class="p">,</span><span class="mi">88</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>To load the fixed-width data into Python, we use the <code class="docutils literal notranslate"><span class="pre">pd.read_fwf()</span></code> function. We specify the location (or URL) of the data file and the names of the columns. And we can either specify the widths of each column, or the starting and ending positions (but not both). Using the widths:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">njcc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_fwf</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">widths</span><span class="o">=</span><span class="n">datawidths</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">datanames</span><span class="p">)</span>
<span class="n">njcc</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>psraid</th>
      <th>sample</th>
      <th>int_date</th>
      <th>area</th>
      <th>state</th>
      <th>...</th>
      <th>recage</th>
      <th>receduc</th>
      <th>racethn</th>
      <th>standwt</th>
      <th>raceos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100001</td>
      <td>1</td>
      <td>121513</td>
      <td>540</td>
      <td>51</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>2.45</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>100006</td>
      <td>1</td>
      <td>121213</td>
      <td>248</td>
      <td>26</td>
      <td>...</td>
      <td>5</td>
      <td>3</td>
      <td>1</td>
      <td>0.67</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100011</td>
      <td>1</td>
      <td>121213</td>
      <td>270</td>
      <td>21</td>
      <td>...</td>
      <td>6</td>
      <td>3</td>
      <td>1</td>
      <td>0.37</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>100020</td>
      <td>1</td>
      <td>121213</td>
      <td>803</td>
      <td>45</td>
      <td>...</td>
      <td>6</td>
      <td>1</td>
      <td>2</td>
      <td>0.95</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100023</td>
      <td>1</td>
      <td>121213</td>
      <td>203</td>
      <td>9</td>
      <td>...</td>
      <td>6</td>
      <td>1</td>
      <td>1</td>
      <td>0.85</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>203257</td>
      <td>2</td>
      <td>121513</td>
      <td>901</td>
      <td>47</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>2.34</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>996</th>
      <td>203262</td>
      <td>2</td>
      <td>121513</td>
      <td>701</td>
      <td>31</td>
      <td>...</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>1.29</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>997</th>
      <td>203264</td>
      <td>2</td>
      <td>121513</td>
      <td>619</td>
      <td>36</td>
      <td>...</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>2.41</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>998</th>
      <td>203273</td>
      <td>2</td>
      <td>121513</td>
      <td>415</td>
      <td>6</td>
      <td>...</td>
      <td>3</td>
      <td>3</td>
      <td>2</td>
      <td>1.53</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>999</th>
      <td>203275</td>
      <td>2</td>
      <td>121513</td>
      <td>541</td>
      <td>41</td>
      <td>...</td>
      <td>3</td>
      <td>3</td>
      <td>4</td>
      <td>1.14</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 39 columns</p>
</div></div></div>
</div>
<p>And using the starting and ending positions:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">njcc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_fwf</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">colspecs</span><span class="o">=</span><span class="n">datapos</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">datanames</span><span class="p">)</span>
<span class="n">njcc</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>psraid</th>
      <th>sample</th>
      <th>int_date</th>
      <th>area</th>
      <th>state</th>
      <th>...</th>
      <th>recage</th>
      <th>receduc</th>
      <th>racethn</th>
      <th>standwt</th>
      <th>raceos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100001</td>
      <td>1</td>
      <td>121513</td>
      <td>540</td>
      <td>51</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>2.45</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>100006</td>
      <td>1</td>
      <td>121213</td>
      <td>248</td>
      <td>26</td>
      <td>...</td>
      <td>5</td>
      <td>3</td>
      <td>1</td>
      <td>0.67</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100011</td>
      <td>1</td>
      <td>121213</td>
      <td>270</td>
      <td>21</td>
      <td>...</td>
      <td>6</td>
      <td>3</td>
      <td>1</td>
      <td>0.37</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>100020</td>
      <td>1</td>
      <td>121213</td>
      <td>803</td>
      <td>45</td>
      <td>...</td>
      <td>6</td>
      <td>1</td>
      <td>2</td>
      <td>0.95</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100023</td>
      <td>1</td>
      <td>121213</td>
      <td>203</td>
      <td>9</td>
      <td>...</td>
      <td>6</td>
      <td>1</td>
      <td>1</td>
      <td>0.85</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>203257</td>
      <td>2</td>
      <td>121513</td>
      <td>901</td>
      <td>47</td>
      <td>...</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>2.34</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>996</th>
      <td>203262</td>
      <td>2</td>
      <td>121513</td>
      <td>701</td>
      <td>31</td>
      <td>...</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>1.29</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>997</th>
      <td>203264</td>
      <td>2</td>
      <td>121513</td>
      <td>619</td>
      <td>36</td>
      <td>...</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>2.41</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>998</th>
      <td>203273</td>
      <td>2</td>
      <td>121513</td>
      <td>415</td>
      <td>6</td>
      <td>...</td>
      <td>3</td>
      <td>3</td>
      <td>2</td>
      <td>1.53</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>999</th>
      <td>203275</td>
      <td>2</td>
      <td>121513</td>
      <td>541</td>
      <td>41</td>
      <td>...</td>
      <td>3</td>
      <td>3</td>
      <td>4</td>
      <td>1.14</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 39 columns</p>
</div></div></div>
</div>
</section>
</section>
<section id="loading-other-kinds-of-electronic-data-files">
<h2><a class="toc-backref" href="#id17" role="doc-backlink"><span class="section-number">2.6. </span>Loading Other Kinds of Electronic Data Files</a><a class="headerlink" href="#loading-other-kinds-of-electronic-data-files" title="Link to this heading">#</a></h2>
<p>CSV, ASCII, and other kinds of plain text files are very common in fields that primarily use open-source programming environments like Python and R, as these file types are lightweight and universal. But there are many more people out there who work in fields that use specific, proprietary data analysis software. It can be a real challenge to load a specific file format in a context outside of its native software environment. There are specialized software that only exist to transfer proprietary data from one environment to another. One package is Stat/Transfer, which can easily convert data from Stata to SAS to SPSS to Excel for <a class="reference external" href="https://stattransfer.com/ordering/academic/">$129 a year for academic users</a>.</p>
<p>If you are using Stata, SAS, SPSS, Excel, or another program, or if you are working with someone who uses that software, and you want to transfer data to Python, the easiest approach is to save the working data as a CSV file and then load it into Python with <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code>. All of those software packages have the functionality to save data as CSV.</p>
<p>That doesn’t help you if you are dealing with an SPSS file and you do not have access to SPSS. Fortunately, Python has functions to load data from pretty much every software environment. Here’s a rundown of these functions.</p>
<section id="loading-excel-files">
<h3><a class="toc-backref" href="#id18" role="doc-backlink"><span class="section-number">2.6.1. </span>Loading Excel Files</a><a class="headerlink" href="#loading-excel-files" title="Link to this heading">#</a></h3>
<p>There are a few methods for loading Excel files in Python but a great function is the <code class="docutils literal notranslate"><span class="pre">pd.read_excel()</span></code> function in <code class="docutils literal notranslate"><span class="pre">pandas</span></code>. One big way that Excel files differ from other data formats is the use of sheets in the same document. The main challenge in loading an Excel file in Python is dealing with the sheets.</p>
<p>I’ve saved an Excel file on <a class="reference external" href="https://github.com/jkropko/DS-6001/raw/master/localdata/NBA-Team-Sample-BoxScore-Dataset.xlsx">GitHub</a> that contains information about NBA teams during the 2018-2019 season. This Excel document contains four sheets, named “NBA-TEAM-SAMPLE”, “METADATA”, “TEAMS”, and “CONVERT DATE FORMAT”. All four sheets have visual formatting. I want to load the “TEAMS” sheet without carrying forward any code that refers to the visual appearance of this sheet.</p>
<p>The first argument of <code class="docutils literal notranslate"><span class="pre">pd.read_excel()</span></code> is the path, as with pd.read_csv(), and it can take a URL. The second argument is sheet_name. If the Excel file has sheets with names, you can type the name of the sheet here. Or type a number: 0 refers to the first sheet, 1 to the second, etc. This function loads the data directly to a data frame, and ignores other graphical elements of Excel sheets, such as shading particular cells or using fonts.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/NovaVolunteer/Practice_Application_DS/blob/master/Week%205/NBA-Team-Sample-BoxScore-Dataset.xlsx?raw=true&quot;</span>
<span class="n">nba</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;TEAMS&quot;</span><span class="p">)</span>
<span class="n">nba</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>INITIALS</th>
      <th>LONG NAME</th>
      <th>SHORT NAME</th>
      <th>CONFERENCE</th>
      <th>DIVISION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Atl</td>
      <td>Atlanta Hawks</td>
      <td>Atlanta</td>
      <td>East</td>
      <td>Southeast</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bos</td>
      <td>Boston Celtics</td>
      <td>Boston</td>
      <td>East</td>
      <td>Atlantic</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Bro</td>
      <td>Brooklyn Nets</td>
      <td>Brooklyn</td>
      <td>East</td>
      <td>Atlantic</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Cha</td>
      <td>Charlotte Hornets</td>
      <td>Charlotte</td>
      <td>East</td>
      <td>Southeast</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Chi</td>
      <td>Chicago Bulls</td>
      <td>Chicago</td>
      <td>East</td>
      <td>Central</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Sac</td>
      <td>Sacramento Kings</td>
      <td>Sacramento</td>
      <td>West</td>
      <td>Pacific</td>
    </tr>
    <tr>
      <th>26</th>
      <td>San</td>
      <td>San Antonio Spurs</td>
      <td>San Antonio</td>
      <td>West</td>
      <td>Southwest</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Tor</td>
      <td>Toronto Raptors</td>
      <td>Toronto</td>
      <td>East</td>
      <td>Atlantic</td>
    </tr>
    <tr>
      <th>28</th>
      <td>Uta</td>
      <td>Utah Jazz</td>
      <td>Utah</td>
      <td>West</td>
      <td>Northwest</td>
    </tr>
    <tr>
      <th>29</th>
      <td>Was</td>
      <td>Washington Wizards</td>
      <td>Washington</td>
      <td>East</td>
      <td>Southeast</td>
    </tr>
  </tbody>
</table>
<p>30 rows × 5 columns</p>
</div></div></div>
</div>
<p>If you specify more than one sheet within the <code class="docutils literal notranslate"><span class="pre">sheet_name</span></code> parameter using a list, <code class="docutils literal notranslate"><span class="pre">pd.read_excel()</span></code> will produce a list of dataframes, one for each sheet you specify. Typing <code class="docutils literal notranslate"><span class="pre">sheet_name</span> <span class="pre">=</span> <span class="pre">None</span></code> produces a list with all of the sheets. For example, to load the “NBA-TEAM-SAMPLE” and “TEAMS” sheets, and save them as two separate data frames embedded in a list, type:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nba</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">nba</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DATASET</th>
      <th>GAME-ID</th>
      <th>DATE</th>
      <th>TEAM</th>
      <th>VENUE</th>
      <th>...</th>
      <th>CLOSING TOTAL</th>
      <th>MONEYLINE</th>
      <th>HALFTIME</th>
      <th>BOX SCORE\nURL</th>
      <th>ODDS\nURL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800001</td>
      <td>10/16/2018</td>
      <td>Philadelphia</td>
      <td>R</td>
      <td>...</td>
      <td>211.5</td>
      <td>170</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800001</td>
      <td>10/16/2018</td>
      <td>Boston</td>
      <td>H</td>
      <td>...</td>
      <td>211.5</td>
      <td>-200</td>
      <td>NaN</td>
      <td>BOX SCORE</td>
      <td>ODDS</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800002</td>
      <td>10/16/2018</td>
      <td>Oklahoma City</td>
      <td>R</td>
      <td>...</td>
      <td>220.5</td>
      <td>711</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800002</td>
      <td>10/16/2018</td>
      <td>Golden State</td>
      <td>H</td>
      <td>...</td>
      <td>220.5</td>
      <td>-1100</td>
      <td>NaN</td>
      <td>BOX SCORE</td>
      <td>ODDS</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800003</td>
      <td>10/17/2018</td>
      <td>Milwaukee</td>
      <td>R</td>
      <td>...</td>
      <td>222.0</td>
      <td>-165</td>
      <td>+2.5</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>60</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800031</td>
      <td>10/20/2018</td>
      <td>Detroit</td>
      <td>R</td>
      <td>...</td>
      <td>217.0</td>
      <td>-200</td>
      <td>-2.5</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>61</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800031</td>
      <td>10/20/2018</td>
      <td>Chicago</td>
      <td>H</td>
      <td>...</td>
      <td>217.0</td>
      <td>170</td>
      <td>106.5u15</td>
      <td>BOX SCORE</td>
      <td>ODDS</td>
    </tr>
    <tr>
      <th>62</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800032</td>
      <td>10/20/2018</td>
      <td>Minnesota</td>
      <td>R</td>
      <td>...</td>
      <td>220.5</td>
      <td>110</td>
      <td>110</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>63</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800032</td>
      <td>10/20/2018</td>
      <td>Dallas</td>
      <td>H</td>
      <td>...</td>
      <td>220.5</td>
      <td>-130</td>
      <td>-1 -05</td>
      <td>BOX SCORE</td>
      <td>ODDS</td>
    </tr>
    <tr>
      <th>64</th>
      <td>NBA 2018-2019 Regular Season</td>
      <td>21800033</td>
      <td>10/20/2018</td>
      <td>Phoenix</td>
      <td>R</td>
      <td>...</td>
      <td>224.5</td>
      <td>459</td>
      <td>110.5</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>65 rows × 57 columns</p>
</div></div></div>
</div>
<p>In this case, because we explicity did not include the sheets indexed as 1 and 3, Python leaves these indices empty. To access the “TEAMS” sheet, specify the index-2 item of the <code class="docutils literal notranslate"><span class="pre">nba</span></code> list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nba</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>INITIALS</th>
      <th>LONG NAME</th>
      <th>SHORT NAME</th>
      <th>CONFERENCE</th>
      <th>DIVISION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Atl</td>
      <td>Atlanta Hawks</td>
      <td>Atlanta</td>
      <td>East</td>
      <td>Southeast</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bos</td>
      <td>Boston Celtics</td>
      <td>Boston</td>
      <td>East</td>
      <td>Atlantic</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Bro</td>
      <td>Brooklyn Nets</td>
      <td>Brooklyn</td>
      <td>East</td>
      <td>Atlantic</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Cha</td>
      <td>Charlotte Hornets</td>
      <td>Charlotte</td>
      <td>East</td>
      <td>Southeast</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Chi</td>
      <td>Chicago Bulls</td>
      <td>Chicago</td>
      <td>East</td>
      <td>Central</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Sac</td>
      <td>Sacramento Kings</td>
      <td>Sacramento</td>
      <td>West</td>
      <td>Pacific</td>
    </tr>
    <tr>
      <th>26</th>
      <td>San</td>
      <td>San Antonio Spurs</td>
      <td>San Antonio</td>
      <td>West</td>
      <td>Southwest</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Tor</td>
      <td>Toronto Raptors</td>
      <td>Toronto</td>
      <td>East</td>
      <td>Atlantic</td>
    </tr>
    <tr>
      <th>28</th>
      <td>Uta</td>
      <td>Utah Jazz</td>
      <td>Utah</td>
      <td>West</td>
      <td>Northwest</td>
    </tr>
    <tr>
      <th>29</th>
      <td>Was</td>
      <td>Washington Wizards</td>
      <td>Washington</td>
      <td>East</td>
      <td>Southeast</td>
    </tr>
  </tbody>
</table>
<p>30 rows × 5 columns</p>
</div></div></div>
</div>
</section>
<section id="loading-sas-stata-and-spss-files">
<h3><a class="toc-backref" href="#id19" role="doc-backlink"><span class="section-number">2.6.2. </span>Loading SAS, Stata, and SPSS Files</a><a class="headerlink" href="#loading-sas-stata-and-spss-files" title="Link to this heading">#</a></h3>
<p>For SAS files with extensions<code class="docutils literal notranslate"><span class="pre">.sas7bdat</span></code> or <code class="docutils literal notranslate"><span class="pre">.xport</span></code>, or Stata files with extension <code class="docutils literal notranslate"><span class="pre">.dta</span></code>. the <code class="docutils literal notranslate"><span class="pre">pd.read_sas()</span></code> and <code class="docutils literal notranslate"><span class="pre">pd.read_stata()</span></code> functions work just like other data parsing functions in <code class="docutils literal notranslate"><span class="pre">pandas</span></code>. We can pass the file path, the file name alone (if we’ve set the working directory), or a URL to these functions and they loads the data directly to a data frame.</p>
<p>On GitHub, I’ve saved a SAS file containing the monthly inflation rate in the United States since 1983, and a Stata file containing a CBS public opinion poll. To load the SAS file, I type:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/jkropko/DS-6001/raw/master/localdata/inflation.sas7bdat&quot;</span>
<span class="n">inflation</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sas</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">inflation</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>YEAR</th>
      <th>MONTH</th>
      <th>WAGE</th>
      <th>PCWAGE</th>
      <th>CPI</th>
      <th>INFLN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1983.0</td>
      <td>12.0</td>
      <td>8.320000</td>
      <td>NaN</td>
      <td>101.400002</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1984.0</td>
      <td>1.0</td>
      <td>8.370000</td>
      <td>0.599163</td>
      <td>102.099998</td>
      <td>0.687963</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1984.0</td>
      <td>2.0</td>
      <td>8.360000</td>
      <td>-0.119546</td>
      <td>102.599998</td>
      <td>0.488521</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1984.0</td>
      <td>3.0</td>
      <td>8.400000</td>
      <td>0.477328</td>
      <td>102.900002</td>
      <td>0.291971</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1984.0</td>
      <td>4.0</td>
      <td>8.440000</td>
      <td>0.475060</td>
      <td>103.300003</td>
      <td>0.387973</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>265</th>
      <td>2006.0</td>
      <td>1.0</td>
      <td>16.400000</td>
      <td>0.305344</td>
      <td>199.000000</td>
      <td>0.655409</td>
    </tr>
    <tr>
      <th>266</th>
      <td>2006.0</td>
      <td>2.0</td>
      <td>16.469999</td>
      <td>0.425921</td>
      <td>199.100006</td>
      <td>0.050239</td>
    </tr>
    <tr>
      <th>267</th>
      <td>2006.0</td>
      <td>3.0</td>
      <td>16.510000</td>
      <td>0.242571</td>
      <td>199.800003</td>
      <td>0.350965</td>
    </tr>
    <tr>
      <th>268</th>
      <td>2006.0</td>
      <td>4.0</td>
      <td>16.610001</td>
      <td>0.603867</td>
      <td>201.000000</td>
      <td>0.598804</td>
    </tr>
    <tr>
      <th>269</th>
      <td>2006.0</td>
      <td>5.0</td>
      <td>16.620001</td>
      <td>0.060187</td>
      <td>201.899994</td>
      <td>0.446762</td>
    </tr>
  </tbody>
</table>
<p>270 rows × 6 columns</p>
</div></div></div>
</div>
<p>And to load the Stata file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/jkropko/DS-6001/raw/master/localdata/cbspoll.dta&quot;</span>
<span class="n">cbspoll</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_stata</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">cbspoll</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CASEID</th>
      <th>FEMM</th>
      <th>DAYS</th>
      <th>SEX</th>
      <th>INTN</th>
      <th>...</th>
      <th>NPH0</th>
      <th>NM</th>
      <th>COVR</th>
      <th>ADLT</th>
      <th>AREACD</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>16715.0</td>
      <td>1.0</td>
      <td>Tuesday</td>
      <td>Female</td>
      <td>708.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>Willing, talkative</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>818.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>19510.0</td>
      <td>1.0</td>
      <td>Monday</td>
      <td>Female</td>
      <td>256.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>Willing, talkative</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>512.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>13448.0</td>
      <td>1.0</td>
      <td>Sunday</td>
      <td>Female</td>
      <td>302.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>Willing, talkative</td>
      <td>5.0</td>
      <td>2.0</td>
      <td>218.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9825.0</td>
      <td>1.0</td>
      <td>Tuesday</td>
      <td>Female</td>
      <td>150.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>Willing, talkative</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>660.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6504.0</td>
      <td>NaN</td>
      <td>Thursday</td>
      <td>Male</td>
      <td>246.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>Willing, talkative</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>207.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1177</th>
      <td>6389.0</td>
      <td>NaN</td>
      <td>Thursday</td>
      <td>Male</td>
      <td>303.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>Not willing</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>540.0</td>
    </tr>
    <tr>
      <th>1178</th>
      <td>1090.0</td>
      <td>NaN</td>
      <td>Wednesday</td>
      <td>Female</td>
      <td>230.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>Not willing</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>254.0</td>
    </tr>
    <tr>
      <th>1179</th>
      <td>19795.0</td>
      <td>1.0</td>
      <td>Tuesday</td>
      <td>Female</td>
      <td>384.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>Willing, not talkative</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>318.0</td>
    </tr>
    <tr>
      <th>1180</th>
      <td>20001.0</td>
      <td>1.0</td>
      <td>Wednesday</td>
      <td>Male</td>
      <td>150.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>Not willing</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>702.0</td>
    </tr>
    <tr>
      <th>1181</th>
      <td>14040.0</td>
      <td>1.0</td>
      <td>Monday</td>
      <td>Female</td>
      <td>189.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>Willing, talkative</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>410.0</td>
    </tr>
  </tbody>
</table>
<p>1182 rows × 115 columns</p>
</div></div></div>
</div>
<p>SPSS files have the file extension <code class="docutils literal notranslate"><span class="pre">.sav</span></code>, and can be loaded with <code class="docutils literal notranslate"><span class="pre">pd.read_spss()</span></code> in the same way. One issue (at the time this notebook was written) is that the <code class="docutils literal notranslate"><span class="pre">pd.read_spss()</span></code> function only accepts local files, and not files from URLs. I saved data from a public opinion survey on <a class="reference external" href="https://github.com/jkropko/DS-6001/raw/master/localdata/survey.sav">GitHub</a>. If you want to try loading it into Python, download the file and move it to the folder where you’ve set your working directory (or type out the whole file path in the following code), and type:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">survey</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_spss</span><span class="p">(</span><span class="s2">&quot;survey.sav&quot;</span><span class="p">)</span>
<span class="n">survey</span>
</pre></div>
</div>
<p>Eventually I expect this <code class="docutils literal notranslate"><span class="pre">pd.read_spss()</span></code> function to be able to accept URLs as well. At that point, the following code should also work:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/jkropko/DS-6001/raw/master/localdata/survey.sav&quot;</span>
<span class="n">survey</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_spss</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">survey</span>
</pre></div>
</div>
</section>
</section>
<section id="saving-csv-and-ascii-files-to-disk">
<h2><a class="toc-backref" href="#id20" role="doc-backlink"><span class="section-number">2.7. </span>Saving CSV and ASCII Files to Disk</a><a class="headerlink" href="#saving-csv-and-ascii-files-to-disk" title="Link to this heading">#</a></h2>
<p>Suppose we’ve done all the steps needed to clean and manage the data. We might want to save a clean version of the data in a CSV or other ASCII file on our local disk space. We can do so by applying the <code class="docutils literal notranslate"><span class="pre">.to_csv()</span></code> method to the <code class="docutils literal notranslate"><span class="pre">anes</span></code> data frame. The first argument is the filename with whatever extension we want for the saved file. As with <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code>, we can also specify the <code class="docutils literal notranslate"><span class="pre">sep</span></code> parameter to choose a delimiter for the text-based data file we are creating. Let’s save the ANES dataframe as “anes_cleaned.csv” in our working directory:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;anes_cleaned.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>For a tab-separated file we can employ the more general “.txt” extension:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anes</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;anes_cleaned.txt&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="ch1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Getting Yourself Unstuck</p>
      </div>
    </a>
    <a class="right-next"
       href="ch3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Loading, Converting, and Writing JSON Files</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-please-dont-bend-fold-spindle-or-mutilate-me">2.1. Introduction: Please don’t bend, fold, spindle or mutilate me</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changing-the-working-directory">2.2. Changing the Working Directory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#text-based-data-files">2.3. Text-Based Data Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#looking-at-the-dataframe-to-see-if-it-loaded-correctly">2.4. Looking at the DataFrame to See if it Loaded Correctly</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#viewing-the-data-as-a-spreadsheet">2.4.1. Viewing the Data as a Spreadsheet</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#displaying-the-data-type-of-each-column">2.4.2. Displaying the Data Type of Each Column</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#displaying-column-names">2.4.3. Displaying Column Names</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#descriptive-statistics">2.4.4. Descriptive Statistics</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-and-solving-problems-with-text-based-data-files">2.5. Identifying and Solving Problems with Text-Based Data Files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comments-prior-to-the-header">2.5.1. Comments Prior to the Header</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-with-numeric-missing-codes">2.5.2. Data with Numeric Missing Codes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comments-inside-the-data">2.5.3. Comments Inside the Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-without-column-names">2.5.4. Data Without Column Names</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#delimiters-other-than-commas">2.5.5. Delimiters Other Than Commas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fixed-width-files">2.5.6. Fixed-width Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-other-kinds-of-electronic-data-files">2.6. Loading Other Kinds of Electronic Data Files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-excel-files">2.6.1. Loading Excel Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-sas-stata-and-spss-files">2.6.2. Loading SAS, Stata, and SPSS Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-csv-and-ascii-files-to-disk">2.7. Saving CSV and ASCII Files to Disk</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jonathan Kropko (jkropko@virginia.edu)
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>